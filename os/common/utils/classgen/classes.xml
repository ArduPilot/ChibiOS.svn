<?xml version="1.0" encoding="UTF-8"?>
<!-- Class/interfaces definitions -->
<instance
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="http://www.chibios.org/xml/schema/oop/classes.xsd">
  <configuration_settings>
  </configuration_settings>
  <modules>
    <module name="oop_base_object_test">
      <classes>
        <class name="base_object" ancestor="" descr="base object" type="abstract">
          <details>
          </details>
          <fields>
            <field name="last" ctype="int" multiplicity="" visibility="private" />
          </fields>
          <init>
            <implementation><![CDATA[ ]]></implementation>
          </init>
          <dispose>
            <implementation><![CDATA[ ]]></implementation>
          </dispose>
          <methods>
          </methods>
        </class>
        <class name="referenced_object" ancestor="base_object" descr="referenced object" type="abstract">
          <details>
          </details>
          <fields>
            <field name="references" ctype="object_references_t" multiplicity="" visibility="private" />
          </fields>
          <init>
            <implementation><![CDATA[
self->references = 0;]]></implementation>
          </init>
          <dispose>
            <implementation><![CDATA[ ]]></implementation>
          </dispose>
          <methods>
            <method name="roAddRef" shortname="addref" type="virtual">
              <brief>New object reference creation.</brief>
              <details>The references counter is increased and a new reference pointer is returned.</details>
              <return ctype="void *">A new reference pointer.</return>
              <implementation><![CDATA[
self->references++;

osalDbgAssert(self->references != (oop_object_references_t)0, "overflow");

return self;]]></implementation>
            </method>
            <method name="roRelease" shortname="release" type="virtual">
              <brief>Release of an object reference.</brief>
              <details>The reference counter is decreased, if the counter reaches zero then the object is disposed.</details>
              <return ctype="object_references_t">The value of the reference counter.</return>
              <implementation><![CDATA[
osalDbgAssert(self->references > 0U, "zero references");

if (--self->references == 0U) {
  __referenced_object_dispose_impl(self);
}

return self->references;]]></implementation>
            </method>
            <method name="roTest" type="virtual">
              <brief>Test method.</brief>
              <details>Nothing to see here.</details>
              <param name="a" ctype="int *$N" dir="both">This is a test parameter.</param>
              <param name="b" ctype="const int *$N" dir="in">This is a test parameter.</param>
              <param name="c" ctype="int *$N" dir="both">This is a test parameter.</param>
              <param name="d" ctype="const int *$N" dir="in">This is a test parameter.</param>
              <return ctype="void *">Garbage.</return>
              <implementation><![CDATA[
(void)self;]]></implementation>
            </method>
          </methods>
        </class>
      </classes>
    </module>
  </modules>
</instance>
